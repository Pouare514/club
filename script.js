const c = document.getElementById('bg'), x = c.getContext('2d'); let w, h, p = [], n = 60, d = 150; function r() { w = c.width = window.innerWidth; h = c.height = window.innerHeight } class P { constructor() { this.x = Math.random() * w; this.y = Math.random() * h; this.vx = (Math.random() - .5) * .5; this.vy = (Math.random() - .5) * .5; this.s = Math.random() * 1.5 + .5 } update() { this.x += this.vx; this.y += this.vy; if (this.x < 0) this.x = w; if (this.x > w) this.x = 0; if (this.y < 0) this.y = h; if (this.y > h) this.y = 0 } draw() { x.fillStyle = 'rgba(255,255,255,.3)'; x.beginPath(); x.arc(this.x, this.y, this.s, 0, 6.28); x.fill() } } function i() { r(); for (let j = 0; j < n; j++)p.push(new P) } function a() { x.clearRect(0, 0, w, h); for (let j = 0; j < p.length; j++) { p[j].update(); p[j].draw(); for (let k = j; k < p.length; k++) { const X = p[j].x - p[k].x, Y = p[j].y - p[k].y, D = Math.sqrt(X * X + Y * Y); if (D < d) { x.beginPath(); x.strokeStyle = `rgba(255,255,255,${.1 - D / d * .1})`; x.lineWidth = .5; x.moveTo(p[j].x, p[j].y); x.lineTo(p[k].x, p[k].y); x.stroke() } } } requestAnimationFrame(a) } window.addEventListener('resize', r); i(); a();
